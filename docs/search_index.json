[["index.html", "TinyTeX 非公式日本語版ドキュメント 軽量・クロスプラットフォーム・ポータブル・メンテナンスも容易な TeX Live ベースの LaTeX ディストリビューション 1 TinyTeX 1.1 R ユーザへ 1.2 Rユーザ以外へ 1.3 モチベーション 1.4 謝辞", " TinyTeX 非公式日本語版ドキュメント 軽量・クロスプラットフォーム・ポータブル・メンテナンスも容易な TeX Live ベースの LaTeX ディストリビューション Xie, Yihui (Author) Katagiri, Satoshi1 (Translator) ver. 1.2.2 (2021/07/16 18:02:45 JST, 本家の更新確認時刻: 2021/06/06 22:28:33 JST) 1 TinyTeX 注意 このドキュメントは Xie, Yihui 氏による TinyTeX のドキュメントの翻訳であり, CC BY-NC-SA 4.0 (クリエイティブ・コモンズ 表示 - 非営利 - 継承 4.0 国際) ライセンスで提供されています. Yihui 氏によるオリジナルは https://yihui.org/tinytex/ で読むことができます. This is an unofficial Japanese translation of Yihui’s TinyTeX documentation, which is licensed under CC BY-NC-SA 4.0. The original documentation by Yihui is here. TinyTeX は TeX Live を元にした軽量 (macOS/Linux ではおよそ 61 Mb, Windows では(g)zip圧縮して 94 Mb) なカスタム LaTeX ディストリビューションですが, ほとんどの場面, 特にRユーザーにとってよく機能します. LaTeX パッケージが足りないという問題に直面しても, あなたが何をすべきかはとても明快です (実際Rユーザは何もする必要がありません). あなたが実際に必要な LaTeX パッケージをインストールするだけです. Hao Zhu @haozhu233 による TinyTeX ロゴ 現在 TinyTeX はRユーザーにとって最善です. その他のユーザも使うことができます. LaTeX パッケージが自動的にインストールされず, 手動でする必要がありますが. あるいはありとあらゆるパッケージをインストールすることもできます (やり方は FAQ 4.3 参照) が, その数は数千にもなることに注意してください. TinyTeX のインストールまたは動作には管理者権限が不要です. これは sudo も 情シス担当者の助けもなくてよいということです. フラッシュドライブから TinyTeX を起動することすら可能です. 1.1 R ユーザへ R パッケージの tinytex (2節) がラッパ関数を提供しているので R ユーザにとって TinyTeX のインストールと保守は簡単です (備考: 太い小文字で tinytex といえば R パッケージをさし, キャメルケースで TinyTeX といえば LaTeX ディストリビューションを意味することとします). tinytex を使って TinyTeX をインストールできます. install.packages(&#39;tinytex&#39;) tinytex::install_tinytex() # アンインストールするときは tinytex::uninstall_tinytex() を実行 R Markdown 文書を PDF にコンパイルするために, 以下の他に知るべきことは何もありません. R Markdown 文書を PDF にコンパイルするためには, 使用したい LaTeX エンジンに応じて, tinytex の pdflatex(), xelatex(), lualatex() のいずれかの関数を呼び出します. これらの関数が, 必要なのにインストールされていない LaTeX パッケージを検出すると, デフォルトでは自動的に欠落したパッケージをインストールします. writeLines(c( &#39;\\\\documentclass[lualatex,ja=standard,haranoaji]{bxjsarticle}&#39;, &#39;\\\\begin{document}&#39;, &#39;ハロー日本語文書!&#39;, &#39;\\\\end{document}&#39; ), &#39;test.tex&#39;) tinytex::lualatex(&#39;test.tex&#39;) 普通の R ユーザーが知るべきことは以上です. あなたが開発者なら, tinytex:::install_yihui_pkgs() でいくつかのパッケージをインストールしたいと思うかもしれません. この関数は CRAN のパッケージの多くの PDF ビネットをビルドするのに必要な関数をインストールすることで, あなたがパッケージを探す手間を省いてくれます. R を使用していないなら, 知る必要があることがもう1つあります. tlmgr コマンドです. 1.2 Rユーザ以外へ TinyTeX はあなたがコマンドラインを使用することを怖がっていないことを想定しています. もし苦手意識があるなら, 代わりに他の普及している LaTeX ディストリビューションを使ってください. 実際のところ, 知る必要があるのは tlmgr コマンドだけです. どうか過剰に恐れないでください. 1.2.1 インストール TinyTeX のバイナリパッケージは1月ごとに, GitHub レポジトリ https://github.com/yihui/tinytex-releases としてリリースされています. Linux ユーザの場合は TinyTeX は $HOME/.TinyTeX にインストールされ, 実行ファイル (xelatex, lualatex など) のシンボリックリンクは $HOME/bin に作成されます. このパスは通常 PATH 環境変数に存在するはずです.2 wget -qO- &quot;https://yihui.org/tinytex/install-bin-unix.sh&quot; | sh macOS ユーザの場合は, /usr/local/bin への書き込み権限がないなら, TeX Live の実行ファイルのシンボリックリンクを /usr/local/bin に貼るために以下のコマンドを実行したほうがいいかもしれません(理由はこれ).3 sudo chown -R $(whoami) /usr/local/bin TinyTeX は macOS では ~/Library/TinyTeX にインストールされます. curl -sL &quot;https://yihui.org/tinytex/install-bin-unix.sh&quot; | sh Windows ユーザの場合, バッチファイル install-bin-windows.bat を保存し (リンクを開いて Ctrl + S), ファイルをダブルクリックしてください.4 PowerShell (少なくともバージョン 3.0 以降) であることに注意してください. あなたの Windows のバージョンが古すぎてパワーシェルをインストールできない場合, この記事に従ってインストールしてください. インストールディレクトリは %APPDATA%/TinyTeX で, APPDATA は典型的には C:\\Users\\Your Name\\AppData\\Roaming を指す環境変数です.5 訳注: 昔の話だからかリンクが切れています. 古いバージョンの互換性に詳しい方がいたら教えてください. 最近の市販品はこれより新しいバージョンの PowerShell が最初から使えることが多いためあまり気にする必要がないとは思いますが, 現在の日本語の PowerShell のインストールに関するドキュメントはこちらになります. 代わりに Chocolatey か Scoop を使って TinyTeX をインストールすることもできます. 手順はTinyTeX のリリース情報を確認してください. TinyTeX をアンインストールするなら, ファイルマネージャ/ブラウザ等でフォルダごと消すだけです. あるいはコマンドラインで以下を実行するだけです. # Linux の場合 tlmgr path remove rm -r &quot;~/.TinyTeX&quot; # macOS の場合 tlmgr path remove rm -r ~/Library/TinyTeX # Windows の場合 tlmgr path remove rd /s /q &quot;%APPDATA%\\TinyTeX&quot; 他の LaTeX ディストリビューションと TinyTEX のアンインストール方法を比べてみてください. 他のディストリビューションと比べ TinyTeX がいとも簡単にアンインストールできることをあなたはきっと評価するでしょう. これは TinyTeX が自己完結的なフォルダ構成になっているからです. 1.2.2 メンテナンス この節は R Markdown ユーザー以外を対象としています. R Markdown ユーザにとっては何もかも自動的に行われ, 欠落した LaTeX パッケージを手作業で探したりインストールしたりする必要はありません. LaTeX 文書をコンパイルして, このようなエラー文が流れてくるかもしれません. ! LaTeX Error: File `times.sty&#39; not found. Type X to quit or &lt;RETURN&gt; to proceed, or enter new name. (Default extension: sty) これは基本的にはある LaTeX パッケージが足りないことを意味しています. 慌てないでください. コマンドウィンドウを開き, tlmgr search --global --file タイプし, その後に続けてファイル名をタイプしてください.6 例えば, 以下のようになります.7 $ tlmgr search --global --file &quot;/times.sty&quot; psnfss: texmf-dist/tex/latex/psnfss/times.sty ... 上記のエラーログに現れた名前のファイルを含むパッケージを見つけてください. 今回は足りないパッケージは psnfss で, tlmgr install でインストールすることができます. tlmgr install psnfss 代わりの方法として, GitHub レポジトリの yihui/latex-pass にエラーログをアップロードするだけで, クラウド上で tlmgr search が実行され不足しているパッケージを教えてくれます. 理解するのが難しいエラーメッセージを見つけたなら, 全てアップデートしてしまうとよいかもしれません. tlmgr update --self --all tlmgr path add fmtutil-sys --all R ユーザにとっては, これらに対応する便利関数が使用できます. いくつか例を挙げます. library(tinytex) tlmgr_search(&#39;/times.sty&#39;) # times.sty を検索する tlmgr_install(&#39;psnfss&#39;) # psnfss パッケージを検索する tlmgr_update() # 全て更新する “Remote repository newer than local” というエラーメッセージを見たら, それは TinyTeX を手動でアップグレード (再インストール) する時であることを意味しています. tinytex::reinstall_tinytex() 以下のようなメッセージを見ても慌てないでください. 数ヶ月待ってから, TinyTeX を再インストールするだけです. TeX Live 2018 is frozen forever and will no longer be updated. This happens in preparation for a new release. If you’re interested in helping to pretest the new release (when pretests are available), please read https://tug.org/texlive/pretest.html. Otherwise, just wait, and the new release will be ready in due time. 普通のユーザにとって知るべきことは以上です. TinyTeX に関するより技術的に詳細なことを知りたいならば, 4 節を読んでください. 1.3 モチベーション TinyTeX の背景のモチベーションとして, LaTeX ディストリビューションとインストールと維持に関する共通の2つの問題がありました. 比較的小さい (数百 Mb) の基本バージョンをインストールしなければならないが, そうするとはおそらくきっと頻繁に使われる LaTeX パッケージが欠落しているせいで動作しない. しかし数GBのフルバージョンをインストールしたとして, 生涯できっとそのうち1%も使わない. インストールとメンテナンスに関するドキュメントはしばしば初心者にとっては長すぎる. 例えばtlmgr のマニュアル は包括的な内容で有用ですが, ある .sty ファイルが見つからないという問題が生じた時にどうすればいいのか解決するのが難しい. 既存の LaTeX ディストリビューションはインストールやメンテナンスにしばしば管理者権限を要求しています. sudo や情シス担当に問い合わせることは大いに面倒を生んでいました. 幸いにも TeX Live ベースのよい突破口がありました. TeX Live はすばらしい. クロスプラットフォームであり (そう Windows 上でも動作します), ポータブルにすることも可能です. 我々は単に軽量で, メンテナンスも簡単にする必要があるだけです. そこで TinyTeX の出番です. 1.4 謝辞 TinyTeX は TeX Live チームの偉大な業績なくしてありえませんでした. これに感謝したいと思います. 私は特に, ソースコードとドキュメントをインストールから省くオプションを提案してくれたことをうれしく思っています. 極めて注意深く, そして忍耐強くテストし, さらにはとても有意義なフィードバックをくれた Peng Zhao と Miao Yu には感謝してもしきれません. Carl Boettiger, TC, Ce Gao, Xiangyun Huang にもベータテストを手伝ってもらいました. 六角形ロゴは Hao Zhu によるデザインです. twitter id: ill_identified↩︎ もしそうでなかったらどうするか, Linux ユーザなら PATH に追加する方法を知っていることでしょう!↩︎ 訳注: リンク先はこの記述の経緯が書かれているだけです.↩︎ アンチウィルスソフトがいずれかの *.dll ファイルに対して警告を発するかもしれませんが, 私は Windows の専門家ではありません. 決断はあなたに委ねます.↩︎ 興味があるなら, スタートメニューをクリックし, cmd とタイプして実行してコマンドウィンドウを開き, echo %APPDATA% とタイプして実行すれば実際のファイルパスが分かります.↩︎ ファイル名の前のスラッシュも正確に合わせてください. スラッシュがない場合, 他のパッケージがマッチするかもしれません. たとえば chemtimes.sty とか.↩︎ 訳注: TeX Live に登録されているファイルパスに対して正規表現マッチで検索するため, ファイル名を完全一致で検索したい場合はこのようにスラッシュを頭に付けます. 正規表現では . は任意の1字のマッチングと解釈されるため, さらに万全を期すならば, /times\\.sty となります.↩︎ "],["r.html", "2 R パッケージとしての tinytex 2.1 TinyTeX を管理する 2.2 LaTeX 文書をコンパイルする 2.3 デバッグ 2.4 その他の LaTeX ディストリビューション", " 2 R パッケージとしての tinytex TinyTeX を管理し, LaTeX 文書をコンパイルするヘルパー関数について オリジナルのページ: https://yihui.org/tinytex/r/ オリジナルの更新日: 2017/12/03 CRAN または GitHub から tinytex パッケージをインストールできます. # CRAN 版 install.packages(&#39;tinytex&#39;) # Github 上の開発版 remotes::install_github(&#39;yihui/tinytex&#39;) パッケージは主に2種類の関数の集合からなります. TinyTeX を管理する関数と, LaTeX 文書を PDF にコンパイルするのを助ける関数です. 2.1 TinyTeX を管理する tlmgr_* シリーズの関数は TeX Live を管理するためのユーティリティコマンドである tlmgr を呼び出します. 例えば LaTeX パッケージのインストールと更新です. ?tinytex::tlmgr でドキュメントの完全版を見てください. tlmgr_search(), tlmgr_install(), tlmgr_update() は TeX Live を自分で管理したい場合に最もよく使う関数です. 2.2 LaTeX 文書をコンパイルする LaTeX の「最高に愛すべき」機能は, PDFを取得するのにしょっちゅう, 相互参照 (例えば索引や引用文献リスト) があるときに文書を複数回コンパイルしなければならないことです. LaTeX の失敗のよくある原因は LaTeX パッケージが足りないことです. どのパッケージが欠けているかがすぐには分からないことがあります (いくつかのパッケージは複数の *.sty や *.cls ファイルを含んでいます). あなたがパッケージ化された TeX Live を使っているなら, この問題は悪化する可能性があります. 例えば Debian/Ubuntu では LaTeX パッケージはグループ分けされ, それぞれ異なる Debian パッケージとしてビルドされるので LaTeX パッケージが1つ欠けていただけでも, あなたが必要としているものに加え, 不要な多くのパッケージを含んでいるかもしれない巨大な Debian パッケージをインストールしなければなりません. tinytex の latexmk() 関数はこれら2つの問題を自動的に解決しようとします. 指定された LaTeX エンジン (pdflatex, xelatex, lualatex)8 を使用し, デフォルトで LaTeX 文書を3回コンパイルします9. また, デフォルトで不足しているパッケージをインストールしようとします. この関数は足りないパッケージを tinytex::parse_packages() 関数を介して LaTeX ログ からインストールしようとします. 文書をコンパイルする最大回数を変えることも, 不足パッケージの自動インストールを無効化することもできます. 詳しくは ?tinytex::latexmk を見てください.10 pdflatex(), xelatex(), lualatex() という3つの関数は latexmk() ベースのラッパ関数です. 例えば pdflatex() は基本的に latexmk(engine = 'pdflatex', emulation = TRUE) と同じです. その実装はぎこちないです. ソースコードを読まないでください. 将来的にも改善されることはないでしょう. LaTeX に対して十分に時間を費やしてきましたし, この洗練されていない実装によって多くの時間を節約するべきでしょう. 「最善は善の敵」というやつです. 2.3 デバッグ LaTeX を PDF にコンパイルするときにエラーが起こったなら, 問題が解消されるまで以下のような段階を1つづつ踏んでください. R と LaTeX パッケージを全て更新する: update.packages(ask = FALSE, checkBuilt = TRUE) tinytex::tlmgr_update() LaTeX パッケージの更新時に “tlmgr: Remote repository is newer than local (2018 &lt; 2019)” のようなエラーが発生したら, それはあなたの TinyTeX が古すぎることを意味します. 以下のようにして新しいバージョンを再インストールしてください. tinytex::reinstall_tinytex() 更新でも再インストールでも問題を解決できないなら, 文書をコンパイルする前に以下のように R のオプションを設定してください: options(tinytex.verbose = TRUE) これで問題のデバッグをする助けになる追加のメッセージが表示されます. R Markdown と RStudio の knit ボタンを使用しているなら R Markdown 文書のコードチャンク内でこのオプションを設定すべきです. あなたができること, そしてもしかするとすべきことなのは, デバッグを終えたあとにこのオプションを削除することです (もはや完全なログを読む必要はなく, LaTeX を静かにさせるため 上記いずれも効果がなかったら, このガイドに従って問題を報告してください.11 あなたがとても忙しい場合, 問題の報告に際してもっとも重要なもの, 「必要最小限の再現例」を忘れないでください. 2.4 その他の LaTeX ディストリビューション (当然ながら) tinyte パッケージは TinyTeX との組み合わせで最もよく動いてくれるはずですが, TinyTeX と完全に不可分なわけではありません. 特に以下に注意してください. LaTeX 文書の相互参照が解決するまで数回にわたって自動コンパイルする機能はどの LaTeX ディストリビューションでも有効です. お望みなら Windows 上で MiKTeX を使うこともできます.12 LaTeX の不足しているパッケージを自動インストールする機能はディストリビューションが TeX Live であることが必要です (TinyTeX は TeX Live のカスタム版なので TinyTeX でも動作することを思い出してください). パッケージをインストールできるようにするには tlmgr install も必要です. システム管理者によってインストールされた TeX Live や TinyTeX のコピーを使用しているなら, あなたには変更する権限が与えられておらず, この機能は使えません. あなたが自分のPCにTinyTeXをインストールしているなら, できる公算が大きいです. この機能は MiKTeX ユーザには使えませんが, MikTeX 自体も不足パッケージを自動インストールできるため, そもそも必要ないでしょう. 訳注: 日本語ユーザはまだあまり使うことがないかもしれませんが, 最近 (v0.3.1) は tectonic もサポートしています.↩︎ 訳注: 文献引用と数式やセクション番号といった相互参照を含んだ, 典型的な LaTeX によるレポート・学術論文ならば3回で十分です.↩︎ 訳注: それぞれ min_times/max_times と install_packages で指定できます.↩︎ 訳注: こちらの窓口は当然ながら英語 (中国語も可?) での対応となります. 日本語の質問フォーラムとしてスタック・オーバーフロー日本語版や, TeX Wiki のフォーラム, teratail がありますが, 日本語ユーザの間でかならずしもTinyTeXが知られているとは限らないことに注意してください.↩︎ 訳注: 日本語コミュニティでは Windows に対しては従来 W32TeX がよく使われていると思います. これも最近のバージョンは TeX Live をベースにしているため, 概ねうまく動作するはずです. Windows 上での従来の TeX 事情はこちらを参考に: https://texwiki.texjp.org/?Microsoft%20Windows↩︎ "],["addendum-ja.html", "3 訳注: 日本語ユーザへの補足説明 3.1 TeX Live について 3.2 TinyTeX の軽量さについて 3.3 (u)pLaTeX や (u)pBibTeX 使用者へ 3.4 既存の TeX Live 使用者と後方互換性について 3.5 パッケージの自動インストール機能の限界について 3.6 CTAN や TeX Live に登録されていないパッケージのインストール方法について", " 3 訳注: 日本語ユーザへの補足説明 このページは日本語ユーザ特有の事情を考慮し, 翻訳者の独断で補足説明として挿入しています. 3.1 TeX Live について 公式ガイドの和訳版をご覧ください. https://www.tug.org/texlive/doc/texlive-ja/texlive-ja.pdf 3.2 TinyTeX の軽量さについて 日本語文書作成には独自のパッケージをそれなりに必要とするため, 残念ながら意外とファイルサイズが大きくなることがあります. しかしそれでも1GBを超えることはあまりないと思いますし, TeX Live のように過年度版が不要であることに気づかないでいると年々肥大化する, ということもありません. 3.3 (u)pLaTeX や (u)pBibTeX 使用者へ LaTeX ディストリビューションとしては TinyTeX でも TeX Live と同様に (u)pLaTeX や (u)pBibTeX を使うことができます. しかしこれらの LaTeX エンジン (および, 頭に up とついているもの概ね全て) は日本で独自に開発されてきたものであるため, tinytex や rmarkdown パッケージではオプションとしてあまり考慮されていません. rmarkdown を使用する場合, 基本的に XeLaTeX または LuaLaTeX を使用して日本語文書をコンパイルしたほうが簡単です. ただし従来の pLaTeX と異なり, bxjs/ltjs シリーズの文書クラスを使用したほうが品質の良い日本語文書を作成できます. 日本語文書のための設定に関する詳細は翻訳者の開発した rmdja パッケージのヘルプやドキュメントや, https://rpubs.com/ktgrstsh/755893 を参考にしてください. rmdja には試験的ですが (u)pLaTeX を使用する機能もあります. 一方で, 以降は rmarkdown ではなく従来の LaTeX ディストリビューションの代わりとして tinytex を使いたい場合の解説をします. まず, 日本語環境を想定していないため文献引用もデフォルトでは BibTeX が呼び出されるため, (u)pBibTeX を想定したファイルを使用しているとハングアップの原因となります. tinytex パッケージで (u)pLaTeX/(u)pBibTeX による処理を xelatex() や pdflatex() のように呼び出したい場合, latexmk() を使用します. TeX Wiki のこのページ に掲載されている .latexmkrc ファイルを作成し13, 作業フォルダに置いた上で, 以下のようなコマンドを実行します. tinytex::latexmk( &quot;&lt;あなたのファイル&gt;.tex&quot;, engine = &quot;latex&quot;, bib_engine = &#39;bibtex&#39;, engine_args = &quot;-latex=uplatex -gg -pdfdvi&quot;, emulation = F, clean = F ) ここで .latexmkrc の設定を忘れていると, bibtex の処理でハングアップしてしまうため, おかしいと思ったら早めに bibtex を強制終了してください (最初はタスクスケジューラなどを見ながら試すといいかもしれません). また, この方法では tinytex の不足パッケージ自動インストール機能が無効であることに注意してください. これは現在一般的な dvipdfmx を利用して PDF を生成する場合です. 例えば dvips を使用する場合は別のオプションが必要になりますが, それは latexmk の使い方としてご自身で調べてください. また, BibTeX 問題を回避する別の方法として bib_engine = \"biber\" を指定することで Biber (BibLaTeX) エンジンを使えばこの問題は起こりませんが, BibLaTeX には日本語に適した文献スタイルファイルがまだほとんど用意されていない, という問題があります (エラーが発生することは少ないと思いますが姓名の表記順などが考慮されていません). 3.4 既存の TeX Live 使用者と後方互換性について 本文でも述べられているように, TeX Live をすでにインストールしている方は, R パッケージの tinytex で提供される関数をそのまま使うことができます. むしろこの状態で tinytex::install_tinytex() を使用してインストールすると競合が発生してしまいます. もし誤ってインストールしてしまった場合は, TinyTeX のインストールディレクトリ (場所がわからない場合は FAQ 4.8参照) をまるごと削除してください. TinyTeX のディストリビューションは TeX Live と同様, 年々更新されています. よって古いバージョンは自動的に凍結されていくため, 環境を維持したい場合は注意してください. 例えば最近ですと, 次のような問題が取り沙汰されています. https://acetaminophen.hatenablog.com/entry/2021/06/18/022108 このような場合は, 究極的には自衛手段として TinyTeX のフォルダのバックアップを取ることになると思います. 3.5 パッケージの自動インストール機能の限界について TinyTeX のパッケージ自動インストール機能は, LaTeX 文書のコンパイル時のエラーログから, ファイルが足りないというエラーメッセージをパターンマッチングで検出し, 必要なパッケージを探索しています. よってエラーメッセージが特殊なものである場合はうまく動作しません. 日本語ユーザでありがちなケースとして, 例えば以下のようなケースがあります. ltjs* および bxjs* シリーズの文書クラスを使用している場合, haranoaji などの日本語フォントパッケージを使用している (かつ通常のフォントとしてインストールしていない) 場合 先述の (u)pBibTeX を使用する場合 (1, 2) はうまくいかなかったという報告が以前ありましたが, 正確な原因は特定できていません. 現在は問題なく動作するかもしれません. 最後の (3) は残念ながら根本的な解決はできませんが, エラーログファイルを tinytex::parse_install() に与えることで不足パッケージの自動解析および自動インストールをさせることができます. もしうまく動作しない場合のために, 以下に XeLaTeX/LuaLaTeX を使用した日本語文書作成によく使用されるパッケージをまとめてインストールするコマンドを用意しました. tinytex::tlmgr_install(c(&quot;bxjscls&quot;, &quot;luatexja&quot;, &quot;zxjatype&quot;, &quot;zxjafont&quot;, &quot;haranoaji&quot;, &quot;jlreq&quot;)) また, 本文 (FAQ4.12) でも触れられているように, R の tikzDevice を使用する際もこのエラーにハマりがちです. tinytex::tlmgr_install(c(&quot;pgf&quot;, &quot;preview&quot;, &quot;xcolor&quot;)) 3.6 CTAN や TeX Live に登録されていないパッケージのインストール方法について TeX Live に登録されていないパッケージは tlmgr コマンドでも tinytex の関数でも検索対象ではないため, ダウンロードおよびインストールすることもできません. 例えば BXcoloremoji パッケージ, あるいは日本国内の学会発表・学術論文用フォーマットなどが該当します. また, 登録されているものと, GitHub などでダウンロードできる開発版とでバージョンが異なることもありえます. このような場合, .sty や .cls といったファイルを手動でダウンロードし, 適切な場所に置く必要があります. TeX Live の仕様として, ファイルを配置する場所はある程度自由ですが, 管理のしやすさを考慮して FAQ 4.6 にあるような, texmf-home ディレクトリまたは, texmf-local 以下に配置することをお勧めします14 (システム管理者の方は適当に工夫してください). root でインストールしていない場合は texmf-local になると思います. TinyTeX は ls-R を使用しているため15 その後 mktexlsr を実行します. R上では system() で呼び出すことができます. system(&quot;mktexlsr&quot;) ただし, 例に挙げた BXcoloremoji パッケージは, $TEXMF/tex/latex/BXcoloremoji 以下に配置するように指示があります. 今回は $TEXMF は texmf-home/texmf-local に対応させることができます. このように, パッケージによってはフォルダ構造に制約があるため, 手動インストール時には注意してください. TeX のフォルダ構造の仕組みについては TeX Wiki の『LaTeX入門/各種パッケージの利用』と『TeX のディレクトリ構成』も参考になります. どうしてもうまく行かなかったら作業ディレクトリに毎回配置してください. もしうまく動作しない場合は rmdja パッケージに内蔵してあるファイル をコピーしてください.↩︎ 参考: https://tex.stackexchange.com/questions/583006/where-do-i-place-my-own-sty-or-cls-files-to-get-them-working-with-tinytex↩︎ ls-R不要論を唱える方もいますが, TinyTeX では残念ながら使用しているので必要です.↩︎ "],["faq.html", "4 FAQ 4.1 TeX Live のどのバージョンがインストールされるのですか? 4.2 TinyTeX のビルド済みバイナリはありますか? 4.3 TinyTeX のサイズはどれくらいですか? 4.4 TinyTeX はどうやって作られたのですか? 巨大な TeX Live のサイズをどうやって削減したのですか? 4.5 私は Linux システムの管理者です. システム使用者全員が使えるように TinyTeX をインストールするにはどうしたらいいですか? 4.6 私は Linux 管理者です. 上記のアプローチで TinyTeX をインストールし /usr/local/bin にシンボリックリンクを追加しました. root 権限のないユーザーに自分で LaTeX パッケージをインストールしてもらうにはどうしたよいですか? 4.7 私は Debian/Ubuntu ユーザです. TeX Live が依存している他のパッケージをインストールすることを止めるにはどうしたらいいですか? TinyTeX と公式の TeX Live のパッケージを両方ともインストールしたくない (あるいは, 必要がない) です. 4.8 インストール先ディレクトリを変えることはできますか? 4.9 USB ドライブや他のポータブルデバイスに TinyTeX をインストールするにはどうすればいいですか? 4.10 デフォルトのインストールパスに TeX Live の年度が含まれていないのはなぜですか? 4.11 数年前にインストールしたTinyTeXをアップグレードするにはどうすればいいですか? “tlmgr: Remote repository is newer than local (2017 &lt; 2018)” のようなメッセージが出てきました. 4.12 R パッケージの tikzDevice の使用にはどの LaTeX パッケージが必要ですか? 4.13 tlmgr を実行するたびに “not verified: gpg unavailable” という警告が現れます. この警告はどうやったら表示されなくなりますか? 4.14 HTTP/HTTPS/FTP プロキシで TinyTeX/LaTeX パッケージをインストールするにはどうすればいいですか? 4.15 macOS で Homebrew を使って TinyTeX をインストールすることはできますか? 4.16 ここで説明されているコマンドをコマンドウィンドウ (ターミナル) を開いて実行するにはどうすればいいですか?", " 4 FAQ よくある (?) 質問 オリジナルのページ: https://yihui.org/tinytex/faq/ オリジナルの最終更新日: 2017/12/02 このよくある質問リストでは, 好奇心のある方に TinyTeX の技術的詳細について説明したり, システム管理者でない人に向けて TinyTeX をインストールしたり使用したりする代わりの方法を説明したりします. 4.1 TeX Live のどのバージョンがインストールされるのですか? デフォルトでは, Windows, macOS, Linux の最新の動作バージョン, そして他のプラットフォームでも (動作の有無にかかわらず) 最新のバージョンです. ここでの「動作」とは, いくつかの R Markdown 文書を PDF にコンパイルする基本的なテストをパスした TinyTeX のバージョンです. もし古いバージョンをインストールしている場合, 次の FAQ を読んでください. 現在の最新バージョンをインストールできて, このバージョンが十分に安定しているなら将来もアップグレードしない選択ができることを覚えておいてください. ただし, これは現在の TeX Live バージョンが凍結 (年単位で凍結されます) されて以降は LaTeX パッケージをインストールすることもアップデートすることもできないことに注意してください. TODO: 日本語ユーザにとって後方互換性は重要. なにか追加サポートが必要 4.2 TinyTeX のビルド済みバイナリはありますか? はい, あります. 2020年9月から TinyTeX のビルド済みバイナリパッケージの提供を始めています. それらは yihui/tinytex-releases で見ることができます. 2名の TeX Live 開発者に TeX Live のライセンスについて教えてもらったのでこれが可能となりました. それ以前はこのライセンスは私にとって複雑で, バイナリパッケージとして再配布することをためらっていました. これが可能であると知ってからは AppVeyor 上でビルドし GitHub リリースとして公開しています. 4.3 TinyTeX のサイズはどれくらいですか? macOS と Linux では gzip 圧縮で 61 MB, Windows では zip 圧縮で 94 MBです. これでもまだ大きすぎると思うかもしれませんが, Basic TeX インストーラ のサイズが macOS ではおよそ 80 MB に, Windows では MiKTeX インストーラ がおよそ 235 MB になることを考えてみてください. TinyTeX の軽量さはクラウド上で (たとえば Travis CI で意図的にテストするとき) インストールするときにとても便利でしょう. ダウンロードとインストールはほんの数秒しかかかりません. もちろん, TinyTeX のサイズは追加で LaTeX パッケージをインストールするたびに増加します. 極端な話, 全てのパッケージをインストールしたいかもしれません (どのパッケージが足りないのかを把握する必要を排除してしまうために). そうしたい場合でも, R ではこのように実行します. tinytex::tlmgr_install(&#39;scheme-full&#39;) コマンドラインで同様の操作はこうなります tlmgr install scheme-full tlmgr path add 数ギガバイトぶんのパッケージをダウンロードしインストールする必要があるため, これはかなり時間がかかります 4.4 TinyTeX はどうやって作られたのですか? 巨大な TeX Live のサイズをどうやって削減したのですか? TinyTeX を理解する最善の方法は TUGBoat の “TinyTeX: A lightweight, cross-platform, and easy-to-maintain LaTeX distribution based on TeX Live” を読むことです. あるいは代わりに tools ディレクトリにあるソースを読むこともできます. 基本的に TinyTeX は, tinytex.profile (./install-tl -profile=tinytex.profile) というプロファイルで TeX Live のインストールを自動化しています. このファイルは最初にインストールされる infraonly スキームを指定しているだけです. このスキームがあるので LaTeX のドキュメントは一切コンパイルできませんが, 最も重要なユーティリティである tlmgr (TeX Live マネージャ) だけは含まれます. この時点での全体のサイズは (UNIX系では) 1 MB 未満です. それから tlmgr で基本的なパッケージをさらにいくつかインストールします (これは pkgs-custom.txt で定義されています). これらのパッケージがあればほとんどの R Markdown 文書を PDF にコンパイルすることができます. 全体のサイズはおよそ 61 MB になります. TinyTeX には少数の LaTeX パッケージを含めているだけであるという点は, TinyTeX が比較的小さなサイズである2つの理由のうちの1つです. もう1つの理由は, パッケージのソースファイルとドキュメントファイルを除外している点です. tinytex.profile にこのような2つオプションが書かれているのがわかるでしょう. option_doc 0 option_src 0 なぜソースファイルを排除したのか? これらはエンドユーザにとって役に立つ場面がなさそうだからです. あなたは LaTeX のソースコードを読みますか? あなたが開発者や上級者ユーザでないならおそらく読んでないでしょう. なぜドキュメントを排除したのか? 正直に答えてください, あなたは StackExchange で答えを探したことが何度ありますか, パッケージのドキュメントを読んだことが何度ありますか? 完全なドキュメントがあっても, あなたはコンピュータのどこにそのファイルがあるのかすら知らないでしょう. ドキュメントのファイルはディスクの容量を多く占有し, 平均レベルのユーザはほとんど読まないと私は思っています. ゆえに同梱しません. web ブラウザのアドレスバーが最も便利なドキュメントです. キーワードをタイプし, 検索してください. パッケージのソースとドキュメントを本当に欲しいのなら, CTAN で見つけることができます. あるいは tlmgr installl --reinstall --with-doc --with-src &lt;パッケージ名&gt; というコマンドでソースとドキュメントを再インストールできます. (Norbert Preining の指摘 に感謝します) TeX Live のサイズに影響するそれ以外の主な要因として, フォントパッケージがあります. フォントパッケージは大抵の場合は他の LaTeX パッケージよりずっと大きいのですが, pdflatex を使わない限り役に立つことがありません. こういった場合では, サイズの小さな TeX Live ディストリビューションをさらに削減することができます. インストールされたパッケージ全てのサイズを tlmgr info --list --only-installed --data name,size というコマンドで得ることができます. R パッケージの tinytex をインストールしているなら, tinytex::tl_sizes() を使うこともできます. 例えばフォントパッケージの lm (Latin modern) はおよそ 42 MB もあります! 4.5 私は Linux システムの管理者です. システム使用者全員が使えるように TinyTeX をインストールするにはどうしたらいいですか? まずインストールスクリプトに2つのオプション --admin --no-path を追加してください. wget -qO- &quot;https://yihui.org/tinytex/install-unx.sh&quot; | sh -s - --admin --no-path これは TinyTeX を ~/.TinyTeX にインストールします. この時点では root 権限は不要です. それからシステムの利用者全員が TeX Live の実行ファイル (例: xelatex や lualatex) を使えるように sudo で /usr/local/bin にシンボリックリンクを追加する必要があります. sudo ~/.TinyTeX/bin/*/tlmgr path add ~/.TinyTex にデフォルトで 700 のパーミッションが設定されるシステムも中にはあります. これは他のユーザは TinyTeX を使用できないことを意味します (このディレクトリ内では読み込み・書き込み・実行いずれの権限もありません). chown を使用してこのディレクトリのオーナやグループを変更し, 書き込み権限 (さらに bin への実行権限) を付与するとよいでしょう. これが例です. chown -R root:staff ~/.TinyTeX chmod -R g+w ~/.TinyTeX chmod -R g+wx ~/.TinyTeX/bin ~/.TinyTeX を他の場所に移動したいなら, FAQ4.8にあるを見てください. そしてフォルダを移動したあとに, /usr/local/bin にあるシンボリックリンクが新しい場所を正しく参照するように sudo で tlmgr path add を実行することを忘れないでください. 4.6 私は Linux 管理者です. 上記のアプローチで TinyTeX をインストールし /usr/local/bin にシンボリックリンクを追加しました. root 権限のないユーザーに自分で LaTeX パッケージをインストールしてもらうにはどうしたよいですか? root 権限のないユーザは通常の方法では, TinyTeX のルートディレクトリ (デフォルトでは ~/.TinyTeX, ~ はあなた自身のホームディレクトリを意味します) に書き込み権限を持つグループに登録されない限り, tlmgr install コマンドでパッケージをインストールすることができません. このような場合は TinyTeX のシステム全体に対してインストールされた TinyTeX を修正することができます. TinyTeX ディレクトリへの書き込み権限がない人たちには, TeX Live のユーザーモード があり, これはユーザーごとに texmf ツリーを管理することができます. 例えばシステムディレクトリの代わりに, そのユーザーのホームディレクトリにパッケージをインストールできます. TinyTeX があれば, ユーザーレベルの texmf ツリーは ~/.TinyTeX/texmf-home にあります (TeX Live の用語としては, TEXMFHOME 環境変数となります. ~ はあなた自身のホームディレクトリを意味します). ユーザが最初にすべきことは, このツリーを初期化すること (TEXMFHOME がまだ作成されていないなら作ること) です. 以下を一度実行するだけです. tlmgr init-usertree それからパッケージをインストールする時には, ユーザは常に --usermode オプションを付けなければなりません. 例えば以下のように. tlmgr --usermode install koma-script xcolor R ユーザなら, 上記のコマンドは以下の R の命令文と同じです. tinytex::tlmgr(&#39;init-usertree&#39;) # これも最初に一度実行するだけです tinytex::tlmgr_install(c(&#39;koma-script&#39;, &#39;xcolor&#39;), usermode = TRUE) しかし, TeX Live のユーザーモードは実際のところかなり複雑になる可能性があり, 残念なことに私はサポートしきれません. 少しだけ注意事項を挙げておきます. 最悪のやり方はユーザが一切のパッケージをインストールできないことです. TeX Live では再配置可能なパッケージとそうでないものがあります. 例えば実行ファイルを含むパッケージは再配置できません (例: metafont パッケージは mf という実行ファイルを含んでいます). ユーザがこれらのパッケージを使わなければならないなら, システム管理者だけが頼りです. 良い知らせとして, こういったパッケージは小規模なので, これらを全てをシステム管理者が最初からインストールしておくという保守的な戦略がある, ということがあります. R 関数の tinytex::tl_unrelocatable() は再配置不可能な全てのパッケージの名前を返します. これは内部で tlmgr info --list --data name,relocatable を呼び出しています. パッケージの中にはインストール後に updmap を実行することが必要なものもあります (例: pdflatex に使用するフォントパッケージ). 良い知らせは updmap-user を実行できることで, 悪い知らせは (私のドキュメントの理解が正しければ) システム管理者が updmap-sys を実行するたびに, ユーザは updmap-user を再実行せねばならないことです. ユーザにとっての保守的な戦略は, 以前にはなかったフォントの問題に出くわすたびに, updmap-user を実行することです (R ユーザは system2('updmap-user') を実行できます). 4.7 私は Debian/Ubuntu ユーザです. TeX Live が依存している他のパッケージをインストールすることを止めるにはどうしたらいいですか? TinyTeX と公式の TeX Live のパッケージを両方ともインストールしたくない (あるいは, 必要がない) です. はい, apt-get install は依存パッケージをインストールする時, なんらかの texlive-* をインストールするかもしれません (例えば, apt-get install dvipng は texlive-base もインストールするかもしれません). あなたが apt-get に「だまされて」 texlive-local.deb をダウンロードしインストールしてしまう可能性があります. wget &quot;https://travis-bin.yihui.org/texlive-local.deb&quot; sudo dpkg -i texlive-local.deb rm texlive-local.deb このパッケージは debian-control-texlive-in.txt 上で equivs-build を実行することでビルドされます (Scott Kostyshak による). 基本的に全ての texlive パッケージが (実際にはインストールされていないのに) インストールされているように擬態するので, あなたはどの LaTeX パッケージを自分で選ぶ完全な自由 (そして責任) を獲得します. 個人的には LaTeX パッケージを全て texlive-* パッケージとして, そしてそれぞれに LaTeX パッケージを梱包して Linux (Debian など) で配布することを好みません. これはあなたが必要なパッケージが1つだけであっても, いくつかの他のパッケージをインストールしなければならないことを意味しています. R ユーザとして (あるいは Python なり他の言語なり) 想像してみてください, 1万を超える R パッケージが, CRAN が 20 組 のパッケージとしてビルドされていて, あなたが必要としているのが ggplot2 パッケージだけなのに他の関連するデータ可視化パッケージが全て強制的にインストールされてしまうとき, あなたはどうしますか? こんなことをする明らかな利点は, (もしかすると) 毎回毎度毎度のように不足しているパッケージをインストールする必要がなくなることですが, 無駄を削ぎ落とした TeX Live ディストリビューションと, インストールするパッケージを自分で選ぶほうが私は好きです (私にとって全く難しいことではありません). 訳注: equivs-build と同様のことは TeX Wiki のこのページ https://texwiki.texjp.org/?texlive-dummy でも紹介されています. 4.8 インストール先ディレクトリを変えることはできますか? ディレクトリのパスはインストールスクリプトにハードコードされているので, TinyTeX インストール時にコマンドラインから変更することはできません. Linux macOS, Windows ではデフォルトで隠しディレクトリになるため, 私はこの場所を選びました. TeX Live はほとんどの場合でインストール場所に注意することも (要求することも) ありません. あなたが本当にディレクトリを変更したいなら, いくつかの方法があります. ダウンロードとインストール用のスクリプトを自分で改造することができます (スクリプトはオープンソースです) R ユーザなら, R パッケージの tinytex をインストールし, tinytex::install_tinytex() の dir 引数にカスタムディレクトリを与えることができます. あるいは TinyTeX を先にインストールしてから, 好きな場所にフォルダごと移動させます (USB スティックに移動することもできます). TinyTeX が TinyTeX が TeX Live のポータブル版だという理由です. この方法のトリッキーなところは, PATH 変数に対処することです. tlmgr path add を実行する必要がありますが, デフォルトのインストール場所から移動すると tlmgr は PATH にはありません. そこで, tlmgr をフルパスで実行しなければなりません. これが例です. # Linux 上で ~/.TinyTeX から /opt/tinytex に移動する想定 /opt/tinytex/bin/*/tlmgr path add # macOS 上で ~/Library/TinyTeX から /opt/tinytex に移動する想定 /opt/tinytex/bin/*/tlmgr path add # Windows 上で %APPDATA%\\TinyTeX から C:\\Software\\TinyTeX に移動する想定 &quot;C:\\Software\\TinyTeX\\bin\\win32\\tlmgr&quot; path add これが必要なのは1度だけです. FAQ 4.5 の方法で TinyTeX をインストールしたなら, tlmgr path add は sudo で実行する必要があります. 4.9 USB ドライブや他のポータブルデバイスに TinyTeX をインストールするにはどうすればいいですか? すでに述べたように TinyTeX は TeX Live のポータブル版です. よって簡単にポータブルデバイスにコピーすることができます. あなたがする必要があるのは他のコンピュータにデバイスを挿してから tlmgr path add を実行することだけです. ここでもポータブルデバイスの tlmgr のフルパスが必要です (FAQ 4.8を見てください). このコマンドを実行してアプリケーションを再起動すれば, フルパスなしで tlmgr を実行できるはずです. あなたが R ユーザなら上記のステップは以下の2つの関数でできます. # インストール済みの TinyTeX をどこにコピーするか tinytex::copy_tinytex() # TinyTeX がデバイスのどこにあるかを指定し, tlmgr path add を実行 tinytex::use_tinytex() あるプラットフォームでインストールした TinyYeX は, 同じプラットフォーム上でのみ動作することに注意してください. 例えば Windows 版は Windows でしか動作しません. 例えば TinyTeX の macOS 版は Windows マシンにコピーすることも使うこともできません. これは情報システム担当者やシステム管理者を介さなくていいすばらしいやり方です. LaTeX パッケージをインストールしたりアップグレードしたりするよう彼らに要求する必要がありません. 全て自分でやることができます. 訳注: 昨今では USB ドライブを勝手に挿入することもセキュリティ面で問題視されそうな気がするので注意してください. 4.10 デフォルトのインストールパスに TeX Live の年度が含まれていないのはなぜですか? TeX Live はデフォルトでは /usr/local/texlive/2017 のように年度で名付けたフォルダにインストールされます (MacTeX でもそうです). 普通のユーザにとってはこれにあまり意味がないと私は思っています. TeX Live の開発者以外に, 同一のコンピュータに TeX Live の複数のバージョンをインストールしたい人がいるでしょうか? TeX Live の完全版は巨大であり, 毎年のようにディスク容量を食いつぶすようなことは, あなたもきっと望んでないでしょう. 繰り返しますが, TinyTeX のインストール場所を変更したいなら, あなたにはそれが可能です. ある TinyTeX ユーザが, 自分はこのことに気づかずに毎年 TeX Live (MacTeX) をインストールしていた, と私に教えてくれました. TinyTeX を試しに使ってみなかったら, これらの /usr/local/texlive/2015, .../2016, and .../2017, といった複数の TinyTeX フォルダが合計で 15GB にもなっていたことに気づかなかったことでしょう. このことは私の推測の裏付けになります. ユーザはしょっちゅう, 過去のバージョンのアンインストールや上書きをせずに TeX Live の新バージョンをインストールしていることを知らず, このモンスターは毎年ごとに大きく成長しています. そう, 今日ではディスク容量は安上がりですが, それは無駄遣いしてもよいということを意味しません. 4.11 数年前にインストールしたTinyTeXをアップグレードするにはどうすればいいですか? “tlmgr: Remote repository is newer than local (2017 &lt; 2018)” のようなメッセージが出てきました. インストールスクリプトが常に最新版をインストールしているように, TinyTeX を再度インストールすることができます. しかし現在インストールされている LaTeX パッケージは失われます. これらのパッケージも再インストールしたいなら, この R 関数を使うとよいでしょう. tinytex::reinstall_tinytex() R を使用していないなら, パッケージのリストを取得し, あとでインストールできます. TL_INSTALLED_PKGS=$(tlmgr info --list --only-installed --data name | tr &#39;\\n&#39; &#39; &#39;) # この後ホームページに書いた方法で TinyTeX を再インストールします. # TinyTeX を再インストールしたら, 以下でパッケージも再インストールします tlmgr install $TL_INSTALLED_PKGS 4.12 R パッケージの tikzDevice の使用にはどの LaTeX パッケージが必要ですか? グラフィックデバイスの tikzDevice::tikz() を使用するにはこれらの LaTeX パッケージが必要です. tlmgr install pgf preview xcolor 4.13 tlmgr を実行するたびに “not verified: gpg unavailable” という警告が現れます. この警告はどうやったら表示されなくなりますか? この文が示すように, あなたのシステムに gpg (GnuPG) がありません. tlmgr: package repository http://example.org/.../tlnet (not verified: gpg unavailable) Windows と macOS で TeX Live を使用しているなら, gpg をインストールする最も簡単な方法は http://www.preining.info/tlgpg/ です. “one-time installation” で十分です. 訳注: 2021/6/24 時点に確認した限りでは, “one-time installation” は以下を実行するだけで十分らしいです. sudo をつけるべきかどうかは, これ以前の項目を参考にしてください (翻訳者は未確認です) tlmgr --repository http://www.texlive.info/tlgpg/ install tlgpg また, Windows/macOS ユーザでないならばこれは不要です. 通常の方法で GnuPG をインストールするだけで十分です. 4.14 HTTP/HTTPS/FTP プロキシで TinyTeX/LaTeX パッケージをインストールするにはどうすればいいですか? ~/.wgetrc ファイル (~ はあなたのホームディレクトリを表しています) を作成し, 変数 http_proxy, https_proxy, あるいは ftp_proxy を設定するとよいでしょう. 例えばこのように. http_proxy=http://user:password@proxy.example.com:8001/ 詳細は tug.org のこのページと wget のドキュメントを見てください. 4.15 macOS で Homebrew を使って TinyTeX をインストールすることはできますか? できます. ただし明確な利点はありませんから, 私としてはこの方法はお勧めしません. brew install -v yihui/tinytex/tinytex Formula は GitHub レポジトリ yihui/homebrew-tinytex にあります. この方法を使わなければならないなら, 以下2点の注意事項に留意すべきです. Homebrew は TeX Live のシンボリックリンクを管理し (brew link tinytex で), /usr/local/bin 以下にリンクを作成します. このコマンドで tlmgr path add と同じ場所にシンボリックリンクが作られるので, インストール後に tlmgr path add を実行しないほうがよいです. (tlmgr install で) metafont のようなバイナリを含む TeX Live パッケージ (mf を含んでいます) をインストールしたときには, 以下を実行すべきです. brew postinstall tinytex &amp;&amp; brew unlink tinytex &amp;&amp; brew link tinytex Homebrew で tinytex を更新した後は (brew update &amp;&amp; brew upgrade によって), すでに自分でインストールした LaTeX パッケージはもはや使用できず, 再インストールする必要があります. 解決法の1つとして brew pin tinytex でこの formula を将来にわたって更新させないようにします (実際, アップグレードの必要はありません). 別の解決法は, formula の HEAD 版を使用することです. brew cleanup -s brew remove tinytex brew install -v --HEAD tinytex これらの問題がとても複雑だと感じたら (実際複雑です), ホームページ (1節) に書いてあるような macOS に TinyTeX をインストールする簡単な手順にしたがってください. 4.16 ここで説明されているコマンドをコマンドウィンドウ (ターミナル) を開いて実行するにはどうすればいいですか? Linux ユーザに対してはこの質問の回答をしません.16 macOS ユーザに対しては Command + Space で Spotlight 検索を立ち上げ, Terminal とタイプしてください. 結果の最初が Terminal.app となっているはずです. それだけです. Windows ユーザの場合, タスクバー上の Windows のアイコンを右クリックして Widnwos PowerShell を選んでください あなたがRStudio ユーザならば, より簡単です. v1.1 以降の RStudio にはターミナルのビルトインサポート があるので, RStudio 内でターミナルを開くことができます. 訳注: ディストリビューションによって異なりますし, デスクトップ環境ならばおそらく自明でしょう.↩︎ "],["pain.html", "5 Half of Pain", " 5 Half of Pain 「なぜ TinyTeX か ~LaTeX ディストリビューションの何が苦痛か?~」 オリジナルのページ: https://yihui.org/tinytex/pain/ オリジナルの更新日: 2017/12/15 私がしているのが車輪の再発明にすぎないと考えている開発者もいるかもしれません. 私は理由もなく車輪の再発明などしたくありません. ホームページで述べたように, 既存の LaTeX ディストリビューションを使うことによる苦痛は, ファイルとドキュメントが巨大であり, 包括的で有用な一方で, 私にとって最も有用が部分がどこなのか (つまり, 足りないパッケージをインストールする方法) が強調されないことです. これを嫌うまた別の理由として, LaTeX パッケージの管理のために (UNIX系OSで) sudo がしょっちゅう必要であることもあります. TeX Live はコンピュータのどこに配置することもできる自己完結的なフォルダ構成であることを考えると, sudo が必要な理由が見当たりません. 数年間も待って tlmgr がとうとう Debian/Ubuntu で利用可能になると私はとても喜びましたが, それが使い物にならないとわかると私はすぐに失望しました (sudo なしでは何もできません). 今年再確認すると, まだ使い物にならないままでした. きっと私はこれを正しく使えません (なにをやろうとしてもエラーになります) が, tlmgr のユーザーモードを使うときだけ許可されますが, その機能は私にとって制約が多すぎました. 私が普段使っているのは macOS で, 公式に TeX Live ディストリビューションとして MacTeX が推奨されています. これには私にとって不要ないくつかの追加パッケージ, たとえば TeX Live Utility (私は tlmgr コマンドの使い方を知っています), TeXShop (R Markdown を使っていますし, 可能な限り生の LaTeX を編集することも, 読むことすらしたくないです), LaTeXiT などが含まれています. 実際 Window 上での MiKTeX (現在はこれはクロスプラットフォームになったようです) のよい機能の1つを私は評価しています. 不足している LaTeX パッケージの自動インストールのことです. これはとても便利だと思うので, 私はこの機能を R パッケージの tinytex でも借用し, R ユーザは TeX Live または TinyTeX 使用時にこの機能を活用することができます. つまり, 基本的な MiKTeX ですらまだ大きすぎ, そして私を腹立たせたのは MiKTeX の bbitex.exe です. これはいつも .aux ファイル内の文献データベースファイルに .bib 拡張子を付け足します. 例えば bar.tex 内に \\bibliography{foo.bib} があったとして, bibtex.exe は bar.aux 内に \\bibdata{foo.bib.bib} を生成してしまいます. なんであれ, Rパッケージの tinytex においては MiKTeX を使うウィンドウズユーザに対してはパッチを当てました. TeX Live ユーザはこの問題に苦しむことはありません. このページでは LaTeX のインストールと管理の話を共有したいと思います. まずは私の発見した辛い場面を紹介しようと思います. 訳注: 以降は既存の LaTeX ディストリビューションの不便さを嘆く声を集めた内容となっており, TinyTeX の使用法とは直接関係ないため翻訳を省略します. Why LaTeX is such a bloated system? Is there a lightweight implementation/distribution of TeX for Mac OSX? Installing (a lightweight version of) latex on an external hard drive texlive-full is too big, too big, and just too big for Docker images Which LaTeX to install on Linux? Missing LaTeX packages confuse users forever, forever, forever, and it takes forever to figure them out and install. Error messages can also be confusing. Sometimes we just don’t have a clue. When all you need is a LaTeX package, upquote, of which the size is 5K, you have to install 500MB of additional software on Ubuntu/Debian. You may suffer from old bugs that have been fixed in certain LaTeX packages. MiKTeX might fail and we don’t know what the error message “GUI framework cannot be initialized” means. Sometimes we have no clue why it doesn’t work. Below are stories and experiences contributed by other users: Removed TeX Live from my system (openSUSE): 1.5gb. Installed TinyTeX + the dependencies to compile my thesis: 150mb!!!! This is great! — Bruno Rodrigues Really liking the simplicity of tinytex package. Easy to get up and running to knit PDFs. No need for slow LaTeX install. — Daley Mikalson A tiny LaTeX distribution easy to install from RStudio or on Travis CI is just what we needed! — Philippe Grosjean Seriously one of my only holdups teaching LaTeX in Rmarkdown (still taught it anyway) is now solved. — Tyson Barrett Tried TinyTeX with rmarkdown and both English and Chinese rendering. The most smooth experience ever using LaTeX! — Kun Ren TinyTeX is awesome, if it had existed before I would have saved hours of my life spent dealing with LaTeX packages and failed R Markdown knits… — Antonio Vazquez Brust Many people don’t realize that Texlive on some Linux systems (say you need a rstudio server) doesn’t come with the TeX package manager. If the package you need is not in their system, you are basically screwed as you can’t even install it. TinyTeX solves this problem and makes everything sweet and easy. Also, after using it for more than a month, I found the messages of tinytex are very helpful, comparing with basically NULL in texlive. — Hao Zhu I’m a novice with R and I found the entire process of installing rmarkdown, knitr, MiKTeX, and pandoc and then reconciling all their directories very difficult. […] The 3-4 hour detour into MiKTeX etc and how to produce PDFs was a frustration experience to say the least. (Up and running with TinyTeX five minutes later…) — Justin Shapiro If you work in a locked down windows corporate enviroment and spent countless hours with MiKTeX or portable MiKTeX, you’ll want to buy @xieyihui lunch. — Thomas Speidel Too bad, this computer had a good month of TeX-free. — Romain François I’d been avoiding installing LaTeX on my macOS and Windows machines b/c it’s always such a hassle. Just learned about about TinyTeX today and easily got setup on both machines. — John Blischak Like 2 hours later, I’m not sure I want to know, but there must be a faster way of updating all my TeX packages than the ftp in TeX Live Utility… — Mara Averick Installing a complete version of MiKTeX is a freaking nightmare though. Don’t know if it’s my internet connection or what but I just can’t get it all installed in one go. I finally just did the basic install and am selecting batches of pkgs at a time to add. […] I just installed this (TinyTeX) and it was SO EASY and I’m kind of upset that I didn’t know about it before. Gonna be shouting this one from the rooftops. — Kim Cressman Siri, how much of my life have I spent installing TeX distributions? I have discovered that the tinytex package has handy tools for analysing the .log files, which solved my problems for me. That is, after I wasted half an hour trying to install MiKTeX for no good reason — Danielle Navarro I used tinytex to upgrade TeX Live and install a package and it … worked. @xieyihui may have ended some of my LaTeX torment. — PirateGrunt literally took me longer to remove all traces of MacTeX than to install TinyTeX and all the packages needed to build my thesis, and i saved about 10gb of disk space. — Tim Hosgood I’ve always had a problem knitting to pdf with windows. I followed instruction for tinytex and it works great now! — Dilsher Dhillon Learning to write a LaTeX manuscript in R Markdown and was having problems loading new packages: tlmgr wasn’t updating the packages. So, found the “tinytex” package that fixed everything. — Akash Just had to reinstall texlive on my Mac and once again, @xieyihui’s tinytex package saves the day with tinytex::reinstall_tinytex(). — Zhian N Kamvar Having just for fun installed R on my new Raspberry pi 4, I thought to myself now it would be nice to have latex, but really, all of texlive, probably not, so this was exactly what was needed. It installed for me immediately and “just worked.” — Roger Koenker I’ve always had problems knitting to pdf on Windows until I came across tinytex package. — Dilsher Dhillon […] uninstall MacTeX and install TinyTeX was the ticket! It FINALLY knit to pdf!!!! — Tiffany Timbers […] Why install 3GB of languages you don’t know when all you want are beautiful tables? — Roman Link […] Have you tried {tinytex}? It installs only what you need from LaTeX so you can knit to pdf! Changed my life! — Kim Cressman […] R Markdown + library(tinytex) basically unlock all of the power of LaTeX without any of the headaches. — Aaron R. Williams A nice, ultra light, LaTeX distribution, I used TinyTeX on my chromebook for a while. — @onebellboy But also LaTeX took 6 hours to download and now I’m struggling to set the path variable for it so maybe I’ll just give up for today and try tomorrow. — jade eden "],["tinytex-中文文档-未翻訳.html", "6 TinyTeX 中文文档 (未翻訳)", " 6 TinyTeX 中文文档 (未翻訳) オリジナルのページ: https://yihui.org/tinytex/cn/ オリジナルの更新日: 2017/12/03 このページは (機械翻訳で確認して) 英語の解説ページとほぼ同じ内容だと判断したので翻訳していません. "]]
