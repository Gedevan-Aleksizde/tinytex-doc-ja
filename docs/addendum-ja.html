<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 訳注: 日本語ユーザへの補足説明 | TinyTeX 非公式日本語版ドキュメント</title>
  <meta name="description" content="3 訳注: 日本語ユーザへの補足説明 | TinyTeX 非公式日本語版ドキュメント" />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="3 訳注: 日本語ユーザへの補足説明 | TinyTeX 非公式日本語版ドキュメント" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="Gedevan-Aleksizde/tinytex-doc-ja" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 訳注: 日本語ユーザへの補足説明 | TinyTeX 非公式日本語版ドキュメント" />
  
  
  

<meta name="author" content="Xie, Yihui (Author)" />
<meta name="author" content="Katagiri, Satoshi (片桐 智志) (Translator)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r.html"/>
<link rel="next" href="faq.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="tinytex_files/styles/css/style.css" type="text/css" />
<link rel="stylesheet" href="tinytex_files/styles/css/toc.css" type="text/css" />
<link rel="stylesheet" href="header.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><p style="text-align:center;"><a href="index.html"><img src="https://github.com/rbind/yihui/blob/e89f32e9f23d5271ad48261767b2326b87e83d9c/static/images/logo-tinytex.png?raw=true" style="display: inline-block; max-width:80px; max-height:80px; width: auto; height: auto;"></a></p></li>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> TinyTeX</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#r-ユーザへ"><i class="fa fa-check"></i><b>1.1</b> R ユーザへ</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#rユーザ以外へ"><i class="fa fa-check"></i><b>1.2</b> Rユーザ以外へ</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#インストール"><i class="fa fa-check"></i><b>1.2.1</b> インストール</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#メンテナンス"><i class="fa fa-check"></i><b>1.2.2</b> メンテナンス</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#モチベーション"><i class="fa fa-check"></i><b>1.3</b> モチベーション</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#謝辞"><i class="fa fa-check"></i><b>1.4</b> 謝辞</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>2</b> R パッケージとしての <strong>tinytex</strong></a>
<ul>
<li class="chapter" data-level="2.1" data-path="r.html"><a href="r.html#tinytex-を管理する"><i class="fa fa-check"></i><b>2.1</b> TinyTeX を管理する</a></li>
<li class="chapter" data-level="2.2" data-path="r.html"><a href="r.html#latex-文書をコンパイルする"><i class="fa fa-check"></i><b>2.2</b> LaTeX 文書をコンパイルする</a></li>
<li class="chapter" data-level="2.3" data-path="r.html"><a href="r.html#デバッグ"><i class="fa fa-check"></i><b>2.3</b> デバッグ</a></li>
<li class="chapter" data-level="2.4" data-path="r.html"><a href="r.html#その他の-latex-ディストリビューション"><i class="fa fa-check"></i><b>2.4</b> その他の LaTeX ディストリビューション</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="addendum-ja.html"><a href="addendum-ja.html"><i class="fa fa-check"></i><b>3</b> 訳注: 日本語ユーザへの補足説明</a>
<ul>
<li class="chapter" data-level="3.1" data-path="addendum-ja.html"><a href="addendum-ja.html#tex-live-について"><i class="fa fa-check"></i><b>3.1</b> TeX Live について</a></li>
<li class="chapter" data-level="3.2" data-path="addendum-ja.html"><a href="addendum-ja.html#tinytex-の軽量さについて"><i class="fa fa-check"></i><b>3.2</b> TinyTeX の軽量さについて</a></li>
<li class="chapter" data-level="3.3" data-path="addendum-ja.html"><a href="addendum-ja.html#uplatex-や-upbibtex-使用者へ"><i class="fa fa-check"></i><b>3.3</b> (u)pLaTeX や (u)pBibTeX 使用者へ</a></li>
<li class="chapter" data-level="3.4" data-path="addendum-ja.html"><a href="addendum-ja.html#既存の-tex-live-使用者と後方互換性について"><i class="fa fa-check"></i><b>3.4</b> 既存の TeX Live 使用者と後方互換性について</a></li>
<li class="chapter" data-level="3.5" data-path="addendum-ja.html"><a href="addendum-ja.html#パッケージの自動インストール機能の限界について"><i class="fa fa-check"></i><b>3.5</b> パッケージの自動インストール機能の限界について</a></li>
<li class="chapter" data-level="3.6" data-path="addendum-ja.html"><a href="addendum-ja.html#ctan-や-tex-live-に登録されていないパッケージのインストール方法について"><i class="fa fa-check"></i><b>3.6</b> CTAN や TeX Live に登録されていないパッケージのインストール方法について</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>4</b> FAQ</a>
<ul>
<li class="chapter" data-level="4.1" data-path="faq.html"><a href="faq.html#tex-live-のどのバージョンがインストールされるのですか"><i class="fa fa-check"></i><b>4.1</b> TeX Live のどのバージョンがインストールされるのですか?</a></li>
<li class="chapter" data-level="4.2" data-path="faq.html"><a href="faq.html#tinytex-のビルド済みバイナリはありますか"><i class="fa fa-check"></i><b>4.2</b> TinyTeX のビルド済みバイナリはありますか?</a></li>
<li class="chapter" data-level="4.3" data-path="faq.html"><a href="faq.html#faq-tinytex-size"><i class="fa fa-check"></i><b>4.3</b> TinyTeX のサイズはどれくらいですか?</a></li>
<li class="chapter" data-level="4.4" data-path="faq.html"><a href="faq.html#faq-size"><i class="fa fa-check"></i><b>4.4</b> TinyTeX はどうやって作られたのですか? 巨大な TeX Live のサイズをどうやって削減したのですか?</a></li>
<li class="chapter" data-level="4.5" data-path="faq.html"><a href="faq.html#sys-install"><i class="fa fa-check"></i><b>4.5</b> 私は Linux システムの管理者です. システム使用者全員が使えるように TinyTeX をインストールするにはどうしたらいいですか?</a></li>
<li class="chapter" data-level="4.6" data-path="faq.html"><a href="faq.html#non-root-package-installation"><i class="fa fa-check"></i><b>4.6</b> 私は Linux 管理者です. 上記のアプローチで TinyTeX をインストールし <code>/usr/local/bin</code> にシンボリックリンクを追加しました. root 権限のないユーザーに自分で LaTeX パッケージをインストールしてもらうにはどうしたよいですか?</a></li>
<li class="chapter" data-level="4.7" data-path="faq.html"><a href="faq.html#私は-debianubuntu-ユーザです.-tex-live-が依存している他のパッケージをインストールすることを止めるにはどうしたらいいですか-tinytex-と公式の-tex-live-のパッケージを両方ともインストールしたくない-あるいは-必要がない-です."><i class="fa fa-check"></i><b>4.7</b> 私は Debian/Ubuntu ユーザです. TeX Live が依存している他のパッケージをインストールすることを止めるにはどうしたらいいですか? TinyTeX と公式の TeX Live のパッケージを両方ともインストールしたくない (あるいは, 必要がない) です.</a></li>
<li class="chapter" data-level="4.8" data-path="faq.html"><a href="faq.html#change-directory"><i class="fa fa-check"></i><b>4.8</b> インストール先フォルダを変えることはできますか?</a></li>
<li class="chapter" data-level="4.9" data-path="faq.html"><a href="faq.html#usb-ドライブや他のポータブルデバイスに-tinytex-をインストールするにはどうすればいいですか"><i class="fa fa-check"></i><b>4.9</b> USB ドライブや他のポータブルデバイスに TinyTeX をインストールするにはどうすればいいですか?</a></li>
<li class="chapter" data-level="4.10" data-path="faq.html"><a href="faq.html#デフォルトのインストールパスに-tex-live-の年度が含まれていないのはなぜですか"><i class="fa fa-check"></i><b>4.10</b> デフォルトのインストールパスに TeX Live の年度が含まれていないのはなぜですか?</a></li>
<li class="chapter" data-level="4.11" data-path="faq.html"><a href="faq.html#数年前にインストールしたtinytexをアップグレードするにはどうすればいいですか-tlmgr-remote-repository-is-newer-than-local-2017-2018-のようなメッセージが出てきました."><i class="fa fa-check"></i><b>4.11</b> 数年前にインストールしたTinyTeXをアップグレードするにはどうすればいいですか? “tlmgr: Remote repository is newer than local (2017 &lt; 2018)” のようなメッセージが出てきました.</a></li>
<li class="chapter" data-level="4.12" data-path="faq.html"><a href="faq.html#faq-tikz"><i class="fa fa-check"></i><b>4.12</b> R パッケージの tikzDevice の使用にはどの LaTeX パッケージが必要ですか?</a></li>
<li class="chapter" data-level="4.13" data-path="faq.html"><a href="faq.html#tlmgr-を実行するたびに-not-verified-gpg-unavailable-という警告が現れます.-この警告はどうやったら表示されなくなりますか"><i class="fa fa-check"></i><b>4.13</b> <code>tlmgr</code> を実行するたびに “not verified: gpg unavailable” という警告が現れます. この警告はどうやったら表示されなくなりますか?</a></li>
<li class="chapter" data-level="4.14" data-path="faq.html"><a href="faq.html#httphttpsftp-プロキシで-tinytexlatex-パッケージをインストールするにはどうすればいいですか"><i class="fa fa-check"></i><b>4.14</b> HTTP/HTTPS/FTP プロキシで TinyTeX/LaTeX パッケージをインストールするにはどうすればいいですか?</a></li>
<li class="chapter" data-level="4.15" data-path="faq.html"><a href="faq.html#macos-で-homebrew-を使って-tinytex-をインストールすることはできますか"><i class="fa fa-check"></i><b>4.15</b> macOS で Homebrew を使って TinyTeX をインストールすることはできますか?</a></li>
<li class="chapter" data-level="4.16" data-path="faq.html"><a href="faq.html#ここで説明されているコマンドをコマンドウィンドウ-ターミナル-を開いて実行するにはどうすればいいですか"><i class="fa fa-check"></i><b>4.16</b> ここで説明されているコマンドをコマンドウィンドウ (ターミナル) を開いて実行するにはどうすればいいですか?</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="pain.html"><a href="pain.html"><i class="fa fa-check"></i><b>5</b> Half of Pain</a></li>
<li class="chapter" data-level="6" data-path="tinytex-中文文档-未翻訳.html"><a href="tinytex-中文文档-未翻訳.html"><i class="fa fa-check"></i><b>6</b> TinyTeX 中文文档 (未翻訳)</a></li>
<li class="divider"></li>
<p style='text-align:center;display:block;margin: 0 auto;'><img src='https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png'></p><li><a href='https://bookdown.org' target='_blank'>Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">TinyTeX 非公式日本語版ドキュメント</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="addendum-ja" class="section level1" number="3">
<h1><span class="header-section-number">3</span> 訳注: 日本語ユーザへの補足説明</h1>
<div class="infobox important">
<p>このページは日本語ユーザ特有の事情を考慮し, 翻訳者の独断で補足説明として挿入しています.</p>
</div>
<div id="tex-live-について" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> TeX Live について</h2>
<p>公式ガイドの和訳版をご覧ください.</p>
<p><a href="https://www.tug.org/texlive/doc/texlive-ja/texlive-ja.pdf" class="uri">https://www.tug.org/texlive/doc/texlive-ja/texlive-ja.pdf</a></p>
</div>
<div id="tinytex-の軽量さについて" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> TinyTeX の軽量さについて</h2>
<p>日本語文書作成には独自のパッケージをそれなりに必要とするため, 残念ながら意外とファイルサイズが大きくなることがあります. しかし<a href="faq.html#faq-size">4.4</a> でも注記したように, せいぜい 500 MB 前後にとどまることが多いと思いますし, TeX Live のように過年度版が不要であることに気づかないでいると年々占有領域が肥大化する, ということもありません.</p>
</div>
<div id="uplatex-や-upbibtex-使用者へ" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> (u)pLaTeX や (u)pBibTeX 使用者へ</h2>
<p>LaTeX ディストリビューションとしては TinyTeX でも TeX Live と同様に (u)pLaTeX や (u)pBibTeX を使うことができます. しかしこれらの LaTeX エンジン (および, 頭に <code>up</code> とついているもの概ね全て) は日本で独自に開発されてきたものであるため, <strong>tinytex</strong> や <strong>rmarkdown</strong> パッケージではオプションとしてあまり考慮されていません.</p>
<p><strong>rmarkdown</strong> を使用する場合, 基本的に XeLaTeX または LuaLaTeX を使用して日本語文書をコンパイルしたほうが簡単です. ただし従来の pLaTeX と異なり, bxjs/ltjs シリーズの文書クラスを使用したほうが品質の良い日本語文書を作成できます. 日本語文書のための設定に関する詳細は翻訳者の開発した <a href="https://github.com/Gedevan-Aleksizde/rmdja"><strong>rmdja</strong> パッケージ</a>のヘルプやドキュメントや, <a href="https://rpubs.com/ktgrstsh/755893" class="uri">https://rpubs.com/ktgrstsh/755893</a> を参考にしてください. <strong>rmdja</strong> には試験的ですが (u)pLaTeX を使用する機能もあります.</p>
<p>一方で, 以降は <strong>rmarkdown</strong> ではなく従来の LaTeX ディストリビューションの代わりとして <strong>tinytex</strong> を使いたい場合の解説をします. まず, 日本語環境を想定していないため文献引用もデフォルトでは BibTeX が呼び出されるため, (u)pBibTeX を想定したファイルを使用しているとハングアップの原因となります. <strong>tinytex</strong> パッケージで (u)pLaTeX/(u)pBibTeX による処理を <code>xelatex()</code> や <code>pdflatex()</code> のように呼び出したい場合, <code>latexmk()</code> を使用します. TeX Wiki の<a href="https://texwiki.texjp.org/?Latexmk">このページ</a> に掲載されている <code>.latexmkrc</code> ファイルを作成し<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>, 作業フォルダに置いた上で, 以下のようなコマンドを実行します.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb18-1"><a href="addendum-ja.html#cb18-1"></a>tinytex<span class="sc">::</span><span class="fu">latexmk</span>(</span>
<span id="cb18-2"><a href="addendum-ja.html#cb18-2"></a>  <span class="st">&quot;&lt;あなたのファイル&gt;.tex&quot;</span>,</span>
<span id="cb18-3"><a href="addendum-ja.html#cb18-3"></a>  <span class="at">engine =</span> <span class="st">&quot;latex&quot;</span>,</span>
<span id="cb18-4"><a href="addendum-ja.html#cb18-4"></a>  <span class="at">bib_engine =</span> <span class="st">&#39;bibtex&#39;</span>,</span>
<span id="cb18-5"><a href="addendum-ja.html#cb18-5"></a>  <span class="at">engine_args =</span> <span class="st">&quot;-latex=uplatex -gg -pdfdvi&quot;</span>,</span>
<span id="cb18-6"><a href="addendum-ja.html#cb18-6"></a>  <span class="at">emulation =</span> F,</span>
<span id="cb18-7"><a href="addendum-ja.html#cb18-7"></a>  <span class="at">clean =</span> F</span>
<span id="cb18-8"><a href="addendum-ja.html#cb18-8"></a>)</span></code></pre></div>
<p>ここで <code>.latexmkrc</code> の設定を忘れていると, <code>bibtex</code> の処理でハングアップしてしまうため, おかしいと思ったら早めに <code>bibtex</code> を強制終了してください (最初はタスクスケジューラなどを見ながら試すといいかもしれません).</p>
<p>また, この方法では <strong>tinytex</strong> の<strong>不足パッケージ自動インストール機能が無効</strong>であることに注意してください.</p>
<p>これは現在一般的な <code>dvipdfmx</code> を利用して PDF を生成する場合です. 例えば <code>dvips</code> を使用する場合は別のオプションが必要になりますが, それは latexmk の使い方としてご自身で調べてください.</p>
<p>また, BibTeX 問題を回避する別の方法として <code>bib_engine = "biber"</code> を指定することで Biber (BibLaTeX) エンジンを使えばこの問題は起こりませんが, BibLaTeX には日本語に適した文献スタイルファイルがまだほとんど用意されていない, という問題があります (エラーが発生することは少ないと思いますが姓名の表記順などが考慮されていません).</p>
</div>
<div id="既存の-tex-live-使用者と後方互換性について" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> 既存の TeX Live 使用者と後方互換性について</h2>
<p>本文でも述べられているように, TeX Live をすでにインストールしている方は, R パッケージの <strong>tinytex</strong> で提供される関数をそのまま使うことができます. むしろこの状態で <code>tinytex::install_tinytex()</code> を使用してインストールすると競合が発生してしまいます. もし誤ってインストールしてしまった場合は, TinyTeX のインストールフォルダ　(場所がわからない場合は FAQ <a href="faq.html#change-directory">4.8</a>参照) をまるごと削除してください.</p>
<p>TinyTeX のディストリビューションは TeX Live と同様, 年々更新されています. よって古いバージョンは自動的に凍結されていくため, 環境を維持したい場合は注意してください. 例えば最近ですと, 次のような問題が取り沙汰されています. <a href="https://acetaminophen.hatenablog.com/entry/2021/06/18/022108" class="uri">https://acetaminophen.hatenablog.com/entry/2021/06/18/022108</a></p>
<p>このような場合は, 究極的には自衛手段として TinyTeX のフォルダのバックアップを取ることになると思います.</p>
</div>
<div id="パッケージの自動インストール機能の限界について" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> パッケージの自動インストール機能の限界について</h2>
<p>TinyTeX のパッケージ自動インストール機能は, LaTeX 文書のコンパイル時のエラーログから, ファイルが足りないというエラーメッセージをパターンマッチングで検出し, 必要なパッケージを探索しています. よってエラーメッセージが特殊なものである場合はうまく動作しません.</p>
<p>日本語ユーザでありがちなケースとして, 例えば以下のようなケースがあります.</p>
<ol style="list-style-type: decimal">
<li><code>ltjs*</code> および <code>bxjs*</code> シリーズの文書クラスを使用している場合,</li>
<li><code>haranoaji</code> などの日本語フォントパッケージを使用している (かつ通常のフォントとしてインストールしていない) 場合</li>
<li>先述の (u)pBibTeX を使用する場合</li>
</ol>
<p>(1, 2) はうまくいかなかったという報告が以前ありましたが, 正確な原因は特定できていません. 現在は問題なく動作するかもしれません. 最後の (3) は残念ながら根本的な解決はできませんが, エラーログファイルを <code>tinytex::parse_install()</code> に与えることで不足パッケージの自動解析および自動インストールをさせることができます.</p>
<p>もしうまく動作しない場合のために, 以下に XeLaTeX/LuaLaTeX を使用した日本語文書作成によく使用されるパッケージをまとめてインストールするコマンドを用意しました.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb19-1"><a href="addendum-ja.html#cb19-1"></a>tinytex<span class="sc">::</span><span class="fu">tlmgr_install</span>(<span class="fu">c</span>(<span class="st">&quot;bxjscls&quot;</span>, <span class="st">&quot;luatexja&quot;</span>, <span class="st">&quot;zxjatype&quot;</span>, <span class="st">&quot;zxjafont&quot;</span>, <span class="st">&quot;haranoaji&quot;</span>, <span class="st">&quot;jlreq&quot;</span>))</span></code></pre></div>
<p>また, 本文 (FAQ<a href="faq.html#faq-tikz">4.12</a>) でも触れられているように, R の <strong>tikzDevice</strong> を使用する際もこのエラーにハマりがちです.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb20-1"><a href="addendum-ja.html#cb20-1"></a>tinytex<span class="sc">::</span><span class="fu">tlmgr_install</span>(<span class="fu">c</span>(<span class="st">&quot;pgf&quot;</span>, <span class="st">&quot;preview&quot;</span>, <span class="st">&quot;xcolor&quot;</span>))</span></code></pre></div>
</div>
<div id="ctan-や-tex-live-に登録されていないパッケージのインストール方法について" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> CTAN や TeX Live に登録されていないパッケージのインストール方法について</h2>
<p>TeX Live に登録されていないパッケージは <code>tlmgr</code> コマンドでも <strong>tinytex</strong> の関数でも検索対象ではないため, ダウンロードおよびインストールすることもできません. 例えば <a href="https://github.com/zr-tex8r/BXcoloremoji"><strong>BXcoloremoji</strong></a> パッケージ, <a href="https://github.com/zr-tex8r/PXrubrica"><strong>pxrubrica</strong></a> パッケージ, あるいは日本国内の学会発表・学術論文用フォーマットなどが該当します. また, 登録されているものと, GitHub などでダウンロードできる開発版とでバージョンが異なることもありえます.</p>
<p>このような場合, <code>.sty</code> や <code>.cls</code> といったファイルを手動でダウンロードし, 適切な場所に置く必要があります. プロジェクトのフォルダに直接置いても良いですが, それだと新たに文書を作成するたびにファイルをコピーする必要があります.</p>
<p>TinyTeX および TeX Live の仕様として, ファイルを配置する場所はある程度自由ですが, 管理のしやすさを考慮して FAQ <a href="faq.html#non-root-package-installation">4.6</a> にあるような, <code>texmf-home</code> フォルダまたは, <code>texmf-local</code> 以下に配置することをお勧めします.<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a> ターミナルで <code>kpsewhich --var-value=TEXMFHOME</code> を実行し出力されたフォルダに配置します. このフォルダ以下に配置したファイルであれば認識されますが, 慣例的に <code>.sty</code>/<code>.cls</code> ファイルは主に <code>tex/latex/</code> 以下に, <code>.bst</code> ファイルは <code>bibtex/bst</code> 以下に置かれます.</p>
<p>(システム管理者の方は適当に工夫してください). root でインストールしていない場合は <code>texmf-local</code> になると思います.</p>
<p>TinyTeX は ls-R を使用しているため<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> その後 <code>mktexlsr</code> を実行します. R上では <code>system()</code> で呼び出すことができます.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r numberLines lineAnchors"><code class="sourceCode r"><span id="cb21-1"><a href="addendum-ja.html#cb21-1"></a><span class="fu">system</span>(<span class="st">&quot;mktexlsr&quot;</span>)</span></code></pre></div>
<p>ただし, 例に挙げた <strong>BXcoloremoji</strong> パッケージは, <code>$TEXMF/tex/latex/BXcoloremoji</code> 以下に配置するように指示があります. 今回は <code>$TEXMF</code> は <code>texmf-home</code>/<code>texmf-local</code> に対応させることができます. このように, パッケージによってはフォルダ構造に制約があるため, 手動インストール時には注意してください.</p>
<p>TeX のフォルダ構造の仕組みについては TeX Wiki の『<a href="https://texwiki.texjp.org/?LaTeX%E5%85%A5%E9%96%80%2F%E5%90%84%E7%A8%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E5%88%A9%E7%94%A8">LaTeX入門/各種パッケージの利用</a>』と『<a href="https://texwiki.texjp.org/?TeX%20%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90">TeX のフォルダ構成</a>』も参考になります.</p>
<p><strong>どうしてもうまく行かなかったら作業フォルダに毎回配置してください</strong>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="13">
<li id="fn13"><p>もしうまく動作しない場合は <strong>rmdja</strong> パッケージに内蔵してある<a href="https://github.com/Gedevan-Aleksizde/rmdja/blob/master/inst/resources/latexmk/.latexmkrc">ファイル</a> をコピーしてください.<a href="addendum-ja.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p><a href="https://tex.stackexchange.com/questions/583006/where-do-i-place-my-own-sty-or-cls-files-to-get-them-working-with-tinytex" class="uri">https://tex.stackexchange.com/questions/583006/where-do-i-place-my-own-sty-or-cls-files-to-get-them-working-with-tinytex</a> では 2021/3/3 以降は <code>texmf-home</code> に配置すべきという回答が書かれていますが, v0.33 で確認したところ <code>texmf-home</code> はデフォルトでは認識されず, <code>texmf-local</code> 以下に置く必要があります.<a href="addendum-ja.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>ls-R 不要論を唱える方もいますし私もその主張には一理あると思いますが, TinyTeX では残念ながら使用しているので必要です.<a href="addendum-ja.html#fnref15" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="faq.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "linkedin", "instapaper", "weibo", "vk"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": "https://github.com/Gedevan-Aleksizde/tinytex-doc-ja/edit/master/source/addendum-ja.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/Gedevan-Aleksizde/tinytex-doc-ja/commits/master/source/addendum-ja.Rmd",
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["tinytex.pdf"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

</body>

</html>
